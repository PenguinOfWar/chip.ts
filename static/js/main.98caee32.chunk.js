(this["webpackJsonpchip.ts"]=this["webpackJsonpchip.ts"]||[]).push([[0],{43:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var r=n(2),i=n.n(r),s=n(15),c=n.n(s),a=n(6),o=n.n(a),u=n(16),h=n(19),f=n(17),l=n(18),m=n.n(l),p=n(3),b=n(4),j=function(){function t(e){Object(p.a)(this,t),this.memory=new Uint8Array(new ArrayBuffer(4096)),this.registers=new Uint8Array(16),this.stack=new Uint16Array(16),this.stackPointer=0,this.resolution={x:64,y:32},this.screen=new Uint8Array(this.resolution.x*this.resolution.y),this.counter=512,this.load(e)}return Object(b.a)(t,[{key:"load",value:function(t){var e=this;t.map((function(t,n){var r=n+512;return e.memory[r]=t,t}))}},{key:"tick",value:function(){var t=this.memory[this.counter]<<8|this.memory[this.counter+1],e=(3840&t)>>8,n=(240&t)>>4;console.log(this.counter,t,e,n,61440&t),this.counter+=2}}]),t}(),y=function(){function t(e){Object(p.a)(this,t),this.fps=60,this.frame=0,this.start(new j(e))}return Object(b.a)(t,[{key:"start",value:function(t){var e=this,n=performance.now(),r=1e3/this.fps;this.frame=requestAnimationFrame((function i(s){e.frame=requestAnimationFrame(i);var c=s-n;c>=r-.1&&(n=s-c%r,t.tick())}))}},{key:"stop",value:function(){cancelAnimationFrame(this.frame)}}]),t}(),d=(n(43),n(1));var v=function(){var t=Object(r.useState)(!1),e=Object(h.a)(t,2),n=e[0],i=e[1];return Object(r.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){var e,n,r,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.next=3,m()({url:"".concat("/chip.ts","/roms/pong"),method:"GET",responseType:"blob"});case 3:return e=t.sent,n=new Blob([e.data]),t.next=7,n.arrayBuffer();case 7:r=t.sent,s=new Uint8Array(r),c=new y(s),console.log(c);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n||Object(f.a)()&&function(){t.apply(this,arguments)}()}),[n]),Object(d.jsx)("div",{className:"container app",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsx)("h1",{children:"CHIP.ts"})})})})},w=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),r(t),i(t),s(t),c(t)}))};n(45);c.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root")),w()}},[[46,1,2]]]);
//# sourceMappingURL=main.98caee32.chunk.js.map